<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <title>yciabaud/checkstyle-xml-ext @ GitHub</title>

  <style type="text/css">
    body {
      margin-top: 1.0em;
      background-color: #21f8cf;
      font-family: Helvetica, Arial, FreeSans, san-serif;
      color: #000000;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
    h1 { font-size: 3.8em; color: #de0730; margin-bottom: 3px; }
    h1 .small { font-size: 0.4em; }
    h1 a { text-decoration: none }
    h2 { font-size: 1.5em; color: #de0730; }
    h3 { text-align: center; color: #de0730; }
    a { color: #de0730; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
    pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
  </style>
</head>

<body>
  <a href="http://github.com/yciabaud/checkstyle-xml-ext"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">

    <div class="download">
      <a href="http://github.com/yciabaud/checkstyle-xml-ext/zipball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/yciabaud/checkstyle-xml-ext/tarball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>

    <h1><a href="http://github.com/yciabaud/checkstyle-xml-ext">checkstyle-xml-ext</a>
      <span class="small">by <a href="http://github.com/yciabaud">yciabaud</a></span></h1>

    <div class="description">
     This extension provides the ability for checkstyle to check on XML files.
Build the jar, add it to the classpath and run checkstyle over XML!
    </div>

    <p>Finally you can assert code conventions in your XML files and integrate it with all the Checkstyle ecosystem!

Reuse some existing checks or try the brand new:

* XPathCheck: Filter the number of occurencies of a XPath expression
* XQueryCheck: Filter the number of occurencies of a XQuery expression - And put control against your data!</p><h2>Dependencies</h2>
<p>* Checkstyle 5.4: http://checkstyle.sourceforge.net/
* </p>
<h2>Install</h2>
<p>Build with Maven, put the jars in the classpath with checkstyle and run it as usual against XML files!

Create a configuration file with your needs with all the available checks.</p>
<h2>Authors</h2>
<p>Yoann Ciabaud (y.ciabaud@free.fr)<br/><br/>      </p>
<h2>Contact</h2>
<p>Yoann Ciabaud (y.ciabaud@free.fr)<br/>      </p>


    <h2>Download</h2>
    <p>
      You can download this project in either
      <a href="http://github.com/yciabaud/checkstyle-xml-ext/zipball/master">zip</a> or
      <a href="http://github.com/yciabaud/checkstyle-xml-ext/tarball/master">tar</a> formats.
    </p>

<h2>Mapping</h2>

<p>Types are translated from Java to reuse available checks. Here is the current mapping:</p>

<ul>
<li>DOCUMENT corresponds to Java CLASS_DEF</li>
<li>ELEMENT corresponds to Java METHOD_DEF</li>
<li>ATTRIBUTES corresponds to Java PARAMETERS</li>

<li>ATTRIBUTE corresponds to Java PARAMETER_DEF</li>
<li>IDENT corresponds to Java IDENT</li>
<li>STRING_LITERAL corresponds to Java STRING_LITERAL</li>
<li>PCDATA corresponds to Java VARIABLE_DEF</li>
<li>PROCESSING_INSTRUCTION corresponds to Java PACKAGE_DEF</li>
<li>PROCESSING_TARGET corresponds to Java ANNOTATION</li>
<li>PROCESSING_DATA corresponds to Java ANNOTATION_DEF</li>
<li>SKIPPED_ENTITY corresponds to Java SL_COMMENT</li>
<li>WHITE_SPACE corresponds to Java WILDCARD_TYPE</li>

<li>PREFIX_MAPPING corresponds to Java IMPORT</li>
</ul><h2>Checks</h2>

<h3>Checkstyle</h3>

<p>The following existing checks are supported:</p>

<ul>
<li>
<a href="http://checkstyle.sourceforge.net/config_naming.html#TypeName">TypeName</a> -- Checks the XML file name format</li>

<li>
<a href="http://checkstyle.sourceforge.net/config_naming.html#PackageName">PackageName</a> -- Checks the path to the file format</li>
<li>
<a href="http://checkstyle.sourceforge.net/config_naming.html#MethodName">MethodName</a> -- Checks an element name format</li>
<li>
<a href="http://checkstyle.sourceforge.net/config_naming.html#ParameterName">ParameterName</a> -- Checks an attribute name format</li>
<li>
<a href="http://checkstyle.sourceforge.net/config_sizes.html#ParameterNumber">ParameterNumber</a> -- Checks the number of attributes</li>

<li>
<a href="http://checkstyle.sourceforge.net/config_sizes.html#MethodLength">MethodLength</a> -- Checks the length of an element body</li>
<li>
<a href="http://checkstyle.sourceforge.net/config_sizes.html#MethodCount">MethodCount</a> -- Checks the number of child in an element</li>
<li><a href="http://checkstyle.sourceforge.net/config_sizes.html#FileLength">FileLength</a></li>
<li><a href="http://checkstyle.sourceforge.net/config_sizes.html#LineLength">LineLength</a></li>
</ul><h3>XML extension specific</h3>

<ul>
<li>XPathCheck -- Checks the number of occurencies of a XPath expression</li>
<li>XQueryCheck -- Checks the number of occurencies of a XQuery expression</li>
</ul><h2>Contributing</h2>

<p>Want to contribute? Great! There are two ways to add checks.</p>

<h3>Checkstyle's guide</h3>

<p><a href="http://checkstyle.sourceforge.net/writingchecks.html">The original guide</a> remains
available to the XML extension. Just keep in mind that the AST tree for XML is not
the same as the Java one.</p>

<p>You can use the a GUI that displays the structure of a Java source file. To run it type</p>

<pre><code>java -classpath "checkstyle-5.4-all.jar;" \
    com.puppycrawl.tools.checkstyle.gui.XmlMain
</code></pre>

<p>on the command line. Click the button at the bottom of the frame and select a syntactically correct XML file. 
The frame will be populated with a tree that corresponds to the structure of the XML document. </p>

<h3>XML</h3>

<p>You can extends existing Checks such as XPathCheck or XQueryChek.
More to come!</p>

<h2>Installation</h2>

<p>Build the extension jar with maven :</p>

<pre><code>mvn install
</code></pre>

<p>Put this jar and the dependencies in the checkstyle classpath and use checkstyle as usual.</p>

<h2>Usage</h2>

<p>The configuration XML file of checkstyle have to specify the XmlTreeWalker to activate the XML
extension:</p>

<pre><code>&lt;?xml version="1.0"?&gt;

&lt;!DOCTYPE module PUBLIC
    "-//Puppy Crawl//DTD Check Configuration 1.3//EN"
    "http://www.puppycrawl.com/dtds/configuration_1_3.dtd"&gt;
&lt;module name="Checker"&gt;
  &lt;module name="XmlTreeWalker"&gt;
    &lt;module name="XPathCheck"&gt;
      &lt;property name="expression" value="//patient"/&gt;
      &lt;property name="min" value="1"/&gt;
      &lt;property name="max" value="5"/&gt;

    &lt;/module&gt;
  &lt;/module&gt;
&lt;/module&gt;
</code></pre>

<h2>Testing</h2>

<p>To run the tests:</p>

<pre><code>mvn test

</code></pre>

<h2>Contributing</h2>

<ol>
<li>Fork it.</li>
<li>Create a branch (<code>git checkout -b my-xml-ext</code>)</li>
<li>Commit your changes (<code>git commit -am "Added new XML based Ext"</code>)</li>
<li>Push to the branch (<code>git push origin my-xml-ext</code>)</li>

<li>Create an <a href="https://github.com/yciabaud/checkstyle-xml-ext/issues">Issue</a> with a link to your branch</li>
<li>Enjoy a refreshing beer and wait</li>
</ol>

    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/yciabaud/checkstyle-xml-ext">yciabaud/checkstyle-xml-ext</a>
    </div>

  </div>
 
</body>
</html>
